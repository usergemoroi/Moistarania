# Руководство по использованию

## Базовое использование

### Шаг 1: Запуск приложения

1. Откройте **Standoff2 Injector** на вашем устройстве
2. Приложение автоматически проверит root доступ
3. Дождитесь статуса **"Ready to inject"**

### Шаг 2: Запуск Overlay

1. Нажмите кнопку **"START"**
2. Приложение выполнит следующие действия:
   - Соберет native библиотеку (первый запуск)
   - Запустит overlay процесс
   - Покажет статус **"Overlay is running"**

### Шаг 3: Запуск игры

Есть два варианта:

**Вариант А - Через приложение:**
1. Нажмите **"Launch Standoff 2"**
2. Игра запустится автоматически
3. Overlay появится поверх игры

**Вариант Б - Вручную:**
1. Сверните приложение инжектора
2. Запустите Standoff 2 из лаунчера
3. Overlay автоматически появится

### Шаг 4: Использование Overlay

1. **Открыть меню:**
   - Свайпните с левого края экрана ИЛИ
   - Тапните в левом верхнем углу

2. **Доступные настройки:**
   - **ESP Enable/Disable** - Включить/выключить ESP
   - **Box ESP** - Показывать рамки вокруг игроков
   - **Health Bar** - Полоса здоровья
   - **Team ESP** - Различие по командам
   - **Exit** - Закрыть overlay

### Шаг 5: Остановка Overlay

1. Вернитесь в приложение инжектора
2. Нажмите **"STOP"**
3. Overlay закроется

## Продвинутое использование

### Автоматический запуск при загрузке

Настройте автозапуск через Tasker или Automate:

```
1. Установите Tasker/Automate
2. Создайте профиль "Boot Completed"
3. Добавьте действие: Launch App -> Standoff2 Injector
4. Добавьте действие: Simulate tap на кнопку START
```

### Настройка через ADB

```bash
# Запустить приложение
adb shell am start -n com.standoff2.injector/.MainActivity

# Проверить статус overlay
adb shell ps | grep standof.sh

# Остановить overlay
adb shell su -c "pkill -f standof.sh"

# Проверить логи
adb logcat -s InjectorService:* MainActivity:*
```

### Кастомизация ESP

Для изменения цветов и настроек ESP, нужно модифицировать исходный код:

1. Откройте `/data/local/tmp/so2_external/so2-external-main/src/standoff/menu.h`
2. Измените параметры:
```cpp
// Цвет рамок
ImColor boxColor = ImColor(0, 255, 0); // RGB

// Толщина линий
float lineThickness = 2.0f;
```
3. Пересоберите через приложение или вручную

### Режимы работы

#### Режим 1: External Overlay (по умолчанию)
- Overlay работает как отдельный процесс
- Не модифицирует игру
- Меньше риск обнаружения

#### Режим 2: Direct Injection (требует модификации)
- Прямая инъекция в процесс игры
- Не рекомендуется (выше риск бана)

## Устранение проблем

### Overlay не отображается

**Проблема:** Overlay запущен, но не виден в игре

**Решение:**
```bash
# Проверить, что overlay процесс запущен
adb shell ps | grep standof.sh

# Проверить разрешение overlay
adb shell appops get com.standoff2.injector SYSTEM_ALERT_WINDOW

# Должно быть: allow

# Предоставить разрешение
adb shell appops set com.standoff2.injector SYSTEM_ALERT_WINDOW allow
```

**Дополнительно:**
1. Проверьте, что в настройках Android включено "Поверх других приложений"
2. Перезапустите overlay и игру
3. Попробуйте другую ориентацию экрана

### Игра вылетает при запуске overlay

**Причина:** Конфликт с защитой игры или недостаточно памяти

**Решение:**
1. Закройте все фоновые приложения
2. Очистите кеш игры
3. Перезагрузите устройство
4. Запустите overlay ПОСЛЕ запуска игры

### ESP показывает неправильные позиции

**Причина:** Обновление игры изменило структуры памяти

**Решение:**
1. Проверьте наличие обновлений инжектора
2. Дождитесь обновления offsets
3. Или вручную обновите offsets в `player.h`

### "Build failed" при первом запуске

**Причина:** NDK не установлен на устройстве

**Решение:**

**Вариант А - Использовать Termux:**
```bash
# Установить Termux из F-Droid
# В Termux:
pkg install android-ndk
export ANDROID_NDK_HOME=$PREFIX/lib/android-ndk

# Вернуться в приложение и повторить
```

**Вариант Б - Использовать prebuilt:**
1. Скачайте готовый binary из релизов
2. Поместите в `/data/local/tmp/so2_external/so2-external-main/libs/arm64-v8a/`
3. Перезапустите приложение

### Overlay зависает/тормозит

**Причина:** Слабое устройство или много объектов для отрисовки

**Решение:**
1. Уменьшите дистанцию отрисовки ESP
2. Отключите ненужные опции (health bar, distance)
3. Используйте OpenGL вместо Vulkan (или наоборот)

## Советы и трюки

### Оптимизация производительности

1. **Закройте фоновые приложения:**
```bash
adb shell am kill-all
```

2. **Увеличьте приоритет процесса:**
```bash
adb shell su -c "renice -20 $(pidof standof.sh)"
```

3. **Заморозьте неиспользуемые приложения:**
   - Используйте Greenify или Island

### Скрытие от античита

⚠️ **ВНИМАНИЕ:** Никакой метод не гарантирует 100% защиту от бана!

1. **Не используйте очевидные читы:**
   - Избегайте aimbot
   - Не ставьте бесконечное здоровье
   - Используйте только информационные функции (ESP)

2. **Используйте VPN:**
   - Скрывает ваш IP
   - Усложняет отслеживание

3. **Играйте на альтернативном аккаунте:**
   - Не рискуйте основным аккаунтом
   - Создайте отдельный аккаунт для тестов

### Логирование и отладка

```bash
# Полный лог overlay
adb shell su -c "logcat | grep -E 'standof|ESP|ImGui'"

# Только ошибки
adb shell su -c "logcat *:E | grep standof"

# Сохранить лог в файл
adb shell su -c "logcat -d > /sdcard/overlay.log"
```

### Бэкап и восстановление

```bash
# Бэкап настроек
adb shell su -c "tar -czf /sdcard/injector_backup.tar.gz /data/local/tmp/so2_external"

# Восстановление
adb shell su -c "tar -xzf /sdcard/injector_backup.tar.gz -C /"
```

## Частые вопросы (FAQ)

### Q: Можно ли использовать без root?
**A:** Нет, root права обязательны для external overlay.

### Q: Работает ли на эмуляторах?
**A:** Теоретически да, если эмулятор поддерживает root и arm64. Но не тестировалось.

### Q: Обнаруживается ли античитом?
**A:** External overlay имеет меньший риск, чем прямая инъекция, но риск всегда есть. Используйте на свой страх и риск.

### Q: Можно ли использовать с другими играми?
**A:** Код специфичен для Standoff 2. Для других игр нужно адаптировать offsets и структуры.

### Q: Как обновить после патча игры?
**A:** Дождитесь обновления инжектора с новыми offsets или обновите вручную.

### Q: Почему overlay не показывает некоторых игроков?
**A:** Возможно они слишком далеко, за стеной, или используют читы на невидимость.

## Безопасность и ответственность

⚠️ **ВАЖНО:**

1. **Использование любых читов нарушает ToS игры**
2. **Риск бана аккаунта - перманентный**
3. **Используйте ТОЛЬКО на альтернативных аккаунтах**
4. **Не используйте в соревновательных режимах**
5. **Разработчики не несут ответственности за баны**

## Обратная связь

Если вы столкнулись с проблемой:

1. Проверьте [Issues](https://github.com/your-repo/issues)
2. Создайте новый Issue с:
   - Моделью устройства
   - Версией Android
   - Логами (`adb logcat`)
   - Подробным описанием проблемы

## Дополнительные ресурсы

- [README.md](README.md) - Общее описание проекта
- [INSTALL.md](INSTALL.md) - Детальная установка
- [BUILD.md](BUILD.md) - Инструкции по сборке
- [GitHub Issues](https://github.com/your-repo/issues) - Баг-репорты и вопросы
